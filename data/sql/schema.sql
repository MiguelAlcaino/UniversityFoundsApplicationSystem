CREATE TABLE ajuste_detalle_recurso (id BIGINT AUTO_INCREMENT, ajuste_recurso_id BIGINT NOT NULL, detalle_recurso_id BIGINT NOT NULL, monto_aprobado BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX ajuste_recurso_id_idx (ajuste_recurso_id), INDEX detalle_recurso_id_idx (detalle_recurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ajuste_detalle_recurso_gastos_operacion (id BIGINT AUTO_INCREMENT, ajuste_detalle_recurso_id BIGINT NOT NULL, detalle_recurso_gastos_operacion_id BIGINT NOT NULL, monto_aprobado BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX ajuste_detalle_recurso_id_idx (ajuste_detalle_recurso_id), INDEX detalle_recurso_gastos_operacion_id_idx (detalle_recurso_gastos_operacion_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE ajuste_recurso (id BIGINT AUTO_INCREMENT, evaluacion_id BIGINT NOT NULL, recurso_id BIGINT NOT NULL, monto_aprobado BIGINT NOT NULL, comentario TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX evaluacion_id_idx (evaluacion_id), INDEX recurso_id_idx (recurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE alternativa (id BIGINT AUTO_INCREMENT, pregunta_id BIGINT NOT NULL, texto_alternativa VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX pregunta_id_idx (pregunta_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE archivo_de_persona (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, tipo_archivo TINYINT NOT NULL, ruta VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE archivo_postulacion (id BIGINT AUTO_INCREMENT, id_tipo_archivo BIGINT NOT NULL, id_persona_concurso BIGINT NOT NULL, ruta VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX id_tipo_archivo_idx (id_tipo_archivo), INDEX id_persona_concurso_idx (id_persona_concurso), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE archivo_recurso (id BIGINT AUTO_INCREMENT, recurso_id BIGINT NOT NULL, ruta VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX recurso_id_idx (recurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE capitulo_libro_de_persona (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, nombre_libro VARCHAR(255) NOT NULL, nombre_capitulo VARCHAR(255) NOT NULL, editorial VARCHAR(255) NOT NULL, anio BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE compromiso_de_concurso (id BIGINT AUTO_INCREMENT, concurso_id BIGINT NOT NULL, tipo BIGINT DEFAULT 1, orden BIGINT NOT NULL, texto TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX concurso_id_idx (concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE compromiso_de_convenio (id BIGINT AUTO_INCREMENT, convenio_desempeno_postulacion_id BIGINT NOT NULL, orden BIGINT NOT NULL, texto_compromiso TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX convenio_desempeno_postulacion_id_idx (convenio_desempeno_postulacion_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE concurso (id BIGINT AUTO_INCREMENT, convocatoria_id BIGINT, nombre_concurso VARCHAR(255) NOT NULL, acronimo VARCHAR(255) NOT NULL, monto_maximo BIGINT NOT NULL, inicio_postulacion DATETIME, termino_postulacion DATETIME, duracion BIGINT DEFAULT 9, porcentaje_formulacion BIGINT DEFAULT 0 NOT NULL, porcentaje_productividad BIGINT DEFAULT 0 NOT NULL, maximo_isis BIGINT DEFAULT 0 NOT NULL, maximo_proyectos_fondecyt BIGINT DEFAULT 0 NOT NULL, maximo_proyectos_internos BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX convocatoria_id_idx (convocatoria_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE concurso_tipo_archivo (id BIGINT AUTO_INCREMENT, concurso_id BIGINT, tipo_archivo_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX concurso_id_idx (concurso_id), INDEX tipo_archivo_id_idx (tipo_archivo_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE convenio_desempeno_postulacion (id BIGINT AUTO_INCREMENT, persona_concurso_id BIGINT UNIQUE NOT NULL, fecha_convenio DATETIME, ruta_convenio VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_concurso_id_idx (persona_concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE convocatoria (id BIGINT AUTO_INCREMENT, anio BIGINT NOT NULL, nombre VARCHAR(255), esta_vigente TINYINT(1) DEFAULT '0', fecha_firma_convenio DATETIME, fecha_termino_convenio DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE detalle_recurso (id BIGINT AUTO_INCREMENT, recurso_id BIGINT NOT NULL, periodo BIGINT NOT NULL, monto BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX recurso_id_idx (recurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE detalle_recurso_gastos_operacion (id BIGINT AUTO_INCREMENT, detalle_recurso_id BIGINT NOT NULL, tipo_de_gasto BIGINT NOT NULL, monto BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX detalle_recurso_id_idx (detalle_recurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE divulgacion_de_persona (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, texto_divulgacion VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE doctorado_acreditado (id BIGINT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE encuesta (id BIGINT AUTO_INCREMENT, nombre VARCHAR(255) NOT NULL, fecha_inicio DATETIME NOT NULL, fecha_termino DATETIME NOT NULL, esta_publicada TINYINT(1) DEFAULT '0', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE evaluacion (id BIGINT AUTO_INCREMENT, persona_sistema_id BIGINT NOT NULL, persona_concurso_id BIGINT NOT NULL, nota BIGINT DEFAULT 0 NOT NULL, estado BIGINT DEFAULT 1 NOT NULL, comentario TEXT, recomiendo_adjudicacion TINYINT(1) DEFAULT '0', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_sistema_id_idx (persona_sistema_id), INDEX persona_concurso_id_idx (persona_concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE facultad (id BIGINT AUTO_INCREMENT, orden BIGINT NOT NULL, nombre VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE item (id BIGINT AUTO_INCREMENT, nombre_item VARCHAR(255) NOT NULL, acronimo VARCHAR(255) NOT NULL, tiene_subitem TINYINT(1) DEFAULT '0', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE item_concurso (id BIGINT AUTO_INCREMENT, concurso_id BIGINT NOT NULL, item_id BIGINT NOT NULL, monto_maximo BIGINT, porcentaje_maximo BIGINT, acronimo_recurso VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX concurso_id_idx (concurso_id), INDEX item_id_idx (item_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE libro_de_persona (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, nombre VARCHAR(255) NOT NULL, editorial VARCHAR(255) NOT NULL, anio BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE nota_formulacion (id BIGINT AUTO_INCREMENT, evaluacion_id BIGINT NOT NULL, porcentaje_evaluacion_id BIGINT NOT NULL, nota BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX evaluacion_id_idx (evaluacion_id), INDEX porcentaje_evaluacion_id_idx (porcentaje_evaluacion_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE nota_productividad (id BIGINT AUTO_INCREMENT, evaluacion_id BIGINT, porcentaje_productividad_concurso_id BIGINT, nota BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX porcentaje_productividad_concurso_id_idx (porcentaje_productividad_concurso_id), INDEX evaluacion_id_idx (evaluacion_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE obra_de_persona (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, texto_obra VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE participante_externo (id BIGINT AUTO_INCREMENT, persona_externa_id BIGINT NOT NULL, persona_concurso_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_externa_id_idx (persona_externa_id), INDEX persona_concurso_id_idx (persona_concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE participante_postulacion (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, persona_concurso_id BIGINT NOT NULL, email VARCHAR(255), tipo_participante TINYINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), INDEX persona_concurso_id_idx (persona_concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE persona (id BIGINT AUTO_INCREMENT, tipo_profesor_id BIGINT NOT NULL, unidad_academica_id BIGINT NOT NULL, rut BIGINT UNIQUE NOT NULL, dv VARCHAR(1) NOT NULL, nombre VARCHAR(255) NOT NULL, apellido1 VARCHAR(255) NOT NULL, apellido2 VARCHAR(255), sexo VARCHAR(1) DEFAULT 'M', telefono VARCHAR(255), email VARCHAR(255) UNIQUE, password VARCHAR(255), token_recuperar_password VARCHAR(255), estado_login TINYINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX tipo_profesor_id_idx (tipo_profesor_id), INDEX unidad_academica_id_idx (unidad_academica_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE persona_concurso (id BIGINT AUTO_INCREMENT, concurso_id BIGINT NOT NULL, tesista_id BIGINT, fecha_envio DATETIME, estado BIGINT DEFAULT 0, titulo VARCHAR(255), categoria_arte VARCHAR(255), categoria_arte_otra VARCHAR(255), ruta_pdf_postulacion VARCHAR(255), estado_evaluacion BIGINT DEFAULT 0 NOT NULL, esta_aprobado TINYINT(1) DEFAULT '0', codigo_proyecto VARCHAR(40), codigo_numerico BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX concurso_id_idx (concurso_id), INDEX tesista_id_idx (tesista_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE persona_externa (id BIGINT AUTO_INCREMENT, rut BIGINT UNIQUE NOT NULL, dv VARCHAR(1) NOT NULL, nombre VARCHAR(255) NOT NULL, apellido1 VARCHAR(255) NOT NULL, apellido2 VARCHAR(255), nombre_universidad VARCHAR(255) NOT NULL, telefono VARCHAR(255), email VARCHAR(255) NOT NULL, jerarquia VARCHAR(255) NOT NULL, compromiso_contractual_con_la_universidad VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE persona_sistema (id BIGINT AUTO_INCREMENT, perfil BIGINT DEFAULT 2 NOT NULL, rut BIGINT UNIQUE NOT NULL, dv VARCHAR(1) NOT NULL, nombre VARCHAR(255) NOT NULL, apellido1 VARCHAR(255) NOT NULL, apellido2 VARCHAR(255), telefono VARCHAR(255), email VARCHAR(255) UNIQUE, password VARCHAR(255), token_recuperar_password VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE porcentaje_evaluacion (id BIGINT AUTO_INCREMENT, concurso_tipo_archivo_id BIGINT NOT NULL, numero BIGINT DEFAULT 1 NOT NULL, porcentaje_evaluacion BIGINT DEFAULT 0, nombre_nota VARCHAR(40), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX concurso_tipo_archivo_id_idx (concurso_tipo_archivo_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE porcentaje_productividad_concurso (id BIGINT AUTO_INCREMENT, concurso_id BIGINT NOT NULL, tipo_productividad VARCHAR(255) NOT NULL, porcentaje BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX concurso_id_idx (concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE pregunta (id BIGINT AUTO_INCREMENT, encuesta_id BIGINT NOT NULL, texto_pregunta VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX encuesta_id_idx (encuesta_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE proyecto_de_persona (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, tipo_proyecto TINYINT NOT NULL, fuente VARCHAR(255) NOT NULL, tipo_participacion TINYINT NOT NULL, concurso VARCHAR(255), codigo VARCHAR(255) NOT NULL, titulo VARCHAR(255) NOT NULL, es_valido TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE publicacion_de_persona (id BIGINT AUTO_INCREMENT, persona_id BIGINT NOT NULL, tipo_publicacion VARCHAR(20) NOT NULL, nombre_revista VARCHAR(255) NOT NULL, titulo_publicacion VARCHAR(255) NOT NULL, anio BIGINT, volumen BIGINT, numero BIGINT, es_isi TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE recurso (id BIGINT AUTO_INCREMENT, persona_concurso_id BIGINT NOT NULL, item_concurso_id BIGINT NOT NULL, total BIGINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX item_concurso_id_idx (item_concurso_id), INDEX persona_concurso_id_idx (persona_concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE respuesta_alternativa (id BIGINT AUTO_INCREMENT, sesion_encuesta_id BIGINT NOT NULL, alternativa_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX sesion_encuesta_id_idx (sesion_encuesta_id), INDEX alternativa_id_idx (alternativa_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE restriccion_concurso (id BIGINT AUTO_INCREMENT, tipo_profesor_id BIGINT, concurso_id BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX tipo_profesor_id_idx (tipo_profesor_id), INDEX concurso_id_idx (concurso_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sesion_encuesta (id BIGINT AUTO_INCREMENT, persona_id BIGINT, encuesta_id BIGINT NOT NULL, fecha_inicio_sesion DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX persona_id_idx (persona_id), INDEX encuesta_id_idx (encuesta_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE subitem (id BIGINT AUTO_INCREMENT, item_id BIGINT NOT NULL, nombre_subitem VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX item_id_idx (item_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tesista (id BIGINT AUTO_INCREMENT, doctorado_acreditado_id BIGINT NOT NULL, rut BIGINT UNIQUE NOT NULL, dv VARCHAR(1) NOT NULL, nombre VARCHAR(255) NOT NULL, apellido1 VARCHAR(255) NOT NULL, apellido2 VARCHAR(255), sexo VARCHAR(1), telefono VARCHAR(255), email VARCHAR(255) NOT NULL, ruta_notas VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX doctorado_acreditado_id_idx (doctorado_acreditado_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tipo_archivo (id BIGINT AUTO_INCREMENT, nombre_documento VARCHAR(255) NOT NULL, acronimo VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tipo_profesor (id BIGINT AUTO_INCREMENT, tipo VARCHAR(255) NOT NULL, numero_tipo TINYINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE unidad_academica (id BIGINT AUTO_INCREMENT, facultad_id BIGINT, nombre VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX facultad_id_idx (facultad_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE ajuste_detalle_recurso ADD CONSTRAINT ajuste_detalle_recurso_detalle_recurso_id_detalle_recurso_id FOREIGN KEY (detalle_recurso_id) REFERENCES detalle_recurso(id);
ALTER TABLE ajuste_detalle_recurso ADD CONSTRAINT ajuste_detalle_recurso_ajuste_recurso_id_ajuste_recurso_id FOREIGN KEY (ajuste_recurso_id) REFERENCES ajuste_recurso(id) ON DELETE CASCADE;
ALTER TABLE ajuste_detalle_recurso_gastos_operacion ADD CONSTRAINT addi FOREIGN KEY (detalle_recurso_gastos_operacion_id) REFERENCES detalle_recurso_gastos_operacion(id);
ALTER TABLE ajuste_detalle_recurso_gastos_operacion ADD CONSTRAINT aaai FOREIGN KEY (ajuste_detalle_recurso_id) REFERENCES ajuste_detalle_recurso(id) ON DELETE CASCADE;
ALTER TABLE ajuste_recurso ADD CONSTRAINT ajuste_recurso_recurso_id_recurso_id FOREIGN KEY (recurso_id) REFERENCES recurso(id);
ALTER TABLE ajuste_recurso ADD CONSTRAINT ajuste_recurso_evaluacion_id_evaluacion_id FOREIGN KEY (evaluacion_id) REFERENCES evaluacion(id) ON DELETE CASCADE;
ALTER TABLE alternativa ADD CONSTRAINT alternativa_pregunta_id_pregunta_id FOREIGN KEY (pregunta_id) REFERENCES pregunta(id) ON DELETE CASCADE;
ALTER TABLE archivo_de_persona ADD CONSTRAINT archivo_de_persona_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id) ON DELETE CASCADE;
ALTER TABLE archivo_postulacion ADD CONSTRAINT archivo_postulacion_id_tipo_archivo_tipo_archivo_id FOREIGN KEY (id_tipo_archivo) REFERENCES tipo_archivo(id);
ALTER TABLE archivo_postulacion ADD CONSTRAINT archivo_postulacion_id_persona_concurso_persona_concurso_id FOREIGN KEY (id_persona_concurso) REFERENCES persona_concurso(id) ON DELETE CASCADE;
ALTER TABLE archivo_recurso ADD CONSTRAINT archivo_recurso_recurso_id_recurso_id FOREIGN KEY (recurso_id) REFERENCES recurso(id) ON DELETE CASCADE;
ALTER TABLE capitulo_libro_de_persona ADD CONSTRAINT capitulo_libro_de_persona_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id);
ALTER TABLE compromiso_de_concurso ADD CONSTRAINT compromiso_de_concurso_concurso_id_concurso_id FOREIGN KEY (concurso_id) REFERENCES concurso(id) ON DELETE CASCADE;
ALTER TABLE compromiso_de_convenio ADD CONSTRAINT ccci FOREIGN KEY (convenio_desempeno_postulacion_id) REFERENCES convenio_desempeno_postulacion(id) ON DELETE CASCADE;
ALTER TABLE concurso ADD CONSTRAINT concurso_convocatoria_id_convocatoria_id FOREIGN KEY (convocatoria_id) REFERENCES convocatoria(id);
ALTER TABLE concurso_tipo_archivo ADD CONSTRAINT concurso_tipo_archivo_tipo_archivo_id_tipo_archivo_id FOREIGN KEY (tipo_archivo_id) REFERENCES tipo_archivo(id);
ALTER TABLE concurso_tipo_archivo ADD CONSTRAINT concurso_tipo_archivo_concurso_id_concurso_id FOREIGN KEY (concurso_id) REFERENCES concurso(id);
ALTER TABLE convenio_desempeno_postulacion ADD CONSTRAINT cppi FOREIGN KEY (persona_concurso_id) REFERENCES persona_concurso(id);
ALTER TABLE detalle_recurso ADD CONSTRAINT detalle_recurso_recurso_id_recurso_id FOREIGN KEY (recurso_id) REFERENCES recurso(id) ON DELETE CASCADE;
ALTER TABLE detalle_recurso_gastos_operacion ADD CONSTRAINT dddi FOREIGN KEY (detalle_recurso_id) REFERENCES detalle_recurso(id) ON DELETE CASCADE;
ALTER TABLE divulgacion_de_persona ADD CONSTRAINT divulgacion_de_persona_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id);
ALTER TABLE evaluacion ADD CONSTRAINT evaluacion_persona_sistema_id_persona_sistema_id FOREIGN KEY (persona_sistema_id) REFERENCES persona_sistema(id);
ALTER TABLE evaluacion ADD CONSTRAINT evaluacion_persona_concurso_id_persona_concurso_id FOREIGN KEY (persona_concurso_id) REFERENCES persona_concurso(id);
ALTER TABLE item_concurso ADD CONSTRAINT item_concurso_item_id_item_id FOREIGN KEY (item_id) REFERENCES item(id);
ALTER TABLE item_concurso ADD CONSTRAINT item_concurso_concurso_id_concurso_id FOREIGN KEY (concurso_id) REFERENCES concurso(id);
ALTER TABLE libro_de_persona ADD CONSTRAINT libro_de_persona_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id);
ALTER TABLE nota_formulacion ADD CONSTRAINT nppi FOREIGN KEY (porcentaje_evaluacion_id) REFERENCES porcentaje_evaluacion(id);
ALTER TABLE nota_formulacion ADD CONSTRAINT nota_formulacion_evaluacion_id_evaluacion_id FOREIGN KEY (evaluacion_id) REFERENCES evaluacion(id) ON DELETE CASCADE;
ALTER TABLE nota_productividad ADD CONSTRAINT nppi_1 FOREIGN KEY (porcentaje_productividad_concurso_id) REFERENCES porcentaje_productividad_concurso(id);
ALTER TABLE nota_productividad ADD CONSTRAINT nota_productividad_evaluacion_id_evaluacion_id FOREIGN KEY (evaluacion_id) REFERENCES evaluacion(id) ON DELETE CASCADE;
ALTER TABLE obra_de_persona ADD CONSTRAINT obra_de_persona_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id);
ALTER TABLE participante_externo ADD CONSTRAINT participante_externo_persona_externa_id_persona_externa_id FOREIGN KEY (persona_externa_id) REFERENCES persona_externa(id) ON DELETE CASCADE;
ALTER TABLE participante_externo ADD CONSTRAINT participante_externo_persona_concurso_id_persona_concurso_id FOREIGN KEY (persona_concurso_id) REFERENCES persona_concurso(id) ON DELETE CASCADE;
ALTER TABLE participante_postulacion ADD CONSTRAINT participante_postulacion_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id);
ALTER TABLE participante_postulacion ADD CONSTRAINT participante_postulacion_persona_concurso_id_persona_concurso_id FOREIGN KEY (persona_concurso_id) REFERENCES persona_concurso(id) ON DELETE CASCADE;
ALTER TABLE persona ADD CONSTRAINT persona_unidad_academica_id_unidad_academica_id FOREIGN KEY (unidad_academica_id) REFERENCES unidad_academica(id);
ALTER TABLE persona ADD CONSTRAINT persona_tipo_profesor_id_tipo_profesor_id FOREIGN KEY (tipo_profesor_id) REFERENCES tipo_profesor(id);
ALTER TABLE persona_concurso ADD CONSTRAINT persona_concurso_tesista_id_tesista_id FOREIGN KEY (tesista_id) REFERENCES tesista(id) ON DELETE CASCADE;
ALTER TABLE persona_concurso ADD CONSTRAINT persona_concurso_concurso_id_concurso_id FOREIGN KEY (concurso_id) REFERENCES concurso(id);
ALTER TABLE porcentaje_evaluacion ADD CONSTRAINT pcci FOREIGN KEY (concurso_tipo_archivo_id) REFERENCES concurso_tipo_archivo(id);
ALTER TABLE porcentaje_productividad_concurso ADD CONSTRAINT porcentaje_productividad_concurso_concurso_id_concurso_id FOREIGN KEY (concurso_id) REFERENCES concurso(id);
ALTER TABLE pregunta ADD CONSTRAINT pregunta_encuesta_id_encuesta_id FOREIGN KEY (encuesta_id) REFERENCES encuesta(id) ON DELETE CASCADE;
ALTER TABLE proyecto_de_persona ADD CONSTRAINT proyecto_de_persona_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id);
ALTER TABLE publicacion_de_persona ADD CONSTRAINT publicacion_de_persona_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id);
ALTER TABLE recurso ADD CONSTRAINT recurso_persona_concurso_id_persona_concurso_id FOREIGN KEY (persona_concurso_id) REFERENCES persona_concurso(id) ON DELETE CASCADE;
ALTER TABLE recurso ADD CONSTRAINT recurso_item_concurso_id_item_concurso_id FOREIGN KEY (item_concurso_id) REFERENCES item_concurso(id);
ALTER TABLE respuesta_alternativa ADD CONSTRAINT respuesta_alternativa_sesion_encuesta_id_sesion_encuesta_id FOREIGN KEY (sesion_encuesta_id) REFERENCES sesion_encuesta(id);
ALTER TABLE respuesta_alternativa ADD CONSTRAINT respuesta_alternativa_alternativa_id_alternativa_id FOREIGN KEY (alternativa_id) REFERENCES alternativa(id);
ALTER TABLE restriccion_concurso ADD CONSTRAINT restriccion_concurso_tipo_profesor_id_tipo_profesor_id FOREIGN KEY (tipo_profesor_id) REFERENCES tipo_profesor(id) ON DELETE CASCADE;
ALTER TABLE restriccion_concurso ADD CONSTRAINT restriccion_concurso_concurso_id_concurso_id FOREIGN KEY (concurso_id) REFERENCES concurso(id);
ALTER TABLE sesion_encuesta ADD CONSTRAINT sesion_encuesta_persona_id_persona_id FOREIGN KEY (persona_id) REFERENCES persona(id) ON DELETE CASCADE;
ALTER TABLE sesion_encuesta ADD CONSTRAINT sesion_encuesta_encuesta_id_encuesta_id FOREIGN KEY (encuesta_id) REFERENCES encuesta(id);
ALTER TABLE subitem ADD CONSTRAINT subitem_item_id_item_id FOREIGN KEY (item_id) REFERENCES item(id);
ALTER TABLE tesista ADD CONSTRAINT tesista_doctorado_acreditado_id_doctorado_acreditado_id FOREIGN KEY (doctorado_acreditado_id) REFERENCES doctorado_acreditado(id);
ALTER TABLE unidad_academica ADD CONSTRAINT unidad_academica_facultad_id_facultad_id FOREIGN KEY (facultad_id) REFERENCES facultad(id);
